(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{19:function(e,t,a){e.exports=a(28)},28:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(17),c=a.n(l),o=a(32),s=a(34),i=a(30),m=function(){return r.a.createElement("div",{className:"jumbotron"},r.a.createElement("h2",null,"Home"),r.a.createElement("p",{className:"lead"},"Welcome to React Frontend"))},u=a(29),p=a(33),d=function(e){return fetch("".concat("http://localhost:8080","/signup"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}).then(function(e){return e.json()}).catch(function(e){return console.log(e)})},f=function(e){return fetch("".concat("http://localhost:8080","/signin"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}).then(function(e){return e.json()}).catch(function(e){return console.log(e)})},g=function(e,t){"undefined"!==typeof window&&(localStorage.setItem("jwt",JSON.stringify(e)),t())},h=function(){return"undefined"!=typeof window&&(!!localStorage.getItem("jwt")&&JSON.parse(localStorage.getItem("jwt")))},E=function(e,t){return e.location.pathname===t?{color:"#ff9900"}:{color:"#ffffff"}},v=Object(p.a)(function(e){var t=e.history;return r.a.createElement("div",null,r.a.createElement("ul",{className:"nav nav-tabs bg-primary"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(u.a,{className:"nav-link",style:E(t,"/"),to:"/"},"Home")),!h()&&r.a.createElement(r.a.Fragment,null,r.a.createElement("li",{className:"nav-item"},r.a.createElement(u.a,{className:"nav-link",style:E(t,"/signin"),to:"/signin"},"Sign In")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(u.a,{className:"nav-link",style:E(t,"/signup"),to:"/signup"},"Sign Up"))),h()&&r.a.createElement(r.a.Fragment,null,r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{className:"nav-link",style:(E(t,"/signup"),{cursor:"pointer",color:"#fff"}),onClick:function(){return e=function(){return t.push("/")},"undefined"!=typeof window&&localStorage.removeItem("jwt"),e(),fetch("".concat("http://localhost:8080","/signout"),{method:"GET"}).then(function(e){return console.log("signout",e),e.json()}).catch(function(e){return console.log(e)});var e}},"Sign Out")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(u.a,{className:"nav-link",to:"/user/".concat(h().user._id),style:(E(t,"/signup"),{color:"#fff"})},"".concat(h().user.name,"'s profile"))))))}),b=a(14),N=a(6),y=a(7),w=a(9),S=a(8),j=a(10),O=function(e){function t(){var e;return Object(N.a)(this,t),(e=Object(w.a)(this,Object(S.a)(t).call(this))).handleChange=function(t){return function(a){e.setState({error:""}),e.setState(Object(b.a)({},t,a.target.value))}},e.clickSubmit=function(t){t.preventDefault();var a=e.state,n=a.name,r=a.email,l=a.password;d({name:n,email:r,password:l}).then(function(t){t.error?e.setState({error:t.error}):e.setState({error:"",name:"",email:"",password:"",open:!0})})},e.signupForm=function(t,a,n){return r.a.createElement("form",null,r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-muted"},"Name"),r.a.createElement("input",{onChange:e.handleChange("name"),type:"text",className:"form-control",value:t})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-muted"},"Email"),r.a.createElement("input",{onChange:e.handleChange("email"),type:"email",className:"form-control",value:a})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-muted"},"Password"),r.a.createElement("input",{onChange:e.handleChange("password"),type:"password",className:"form-control",value:n})),r.a.createElement("button",{onClick:e.clickSubmit,className:"btn btn-raised btn-primary"},"Submit"))},e.state={name:"",email:"",password:"",error:"",open:!1},e}return Object(j.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){var e=this.state,t=e.name,a=e.email,n=e.password,l=e.error,c=e.open;return r.a.createElement("div",{className:"container"},r.a.createElement("h2",{className:"mt-5 mb-5"},"Signup"),r.a.createElement("div",{className:"alert alert-danger",style:{display:l?"":"none"}},l),r.a.createElement("div",{className:"alert alert-info",style:{display:c?"":"none"}},"New account is successfully created. Please Sign In."),this.signupForm(t,a,n))}}]),t}(n.Component),C=a(31),k=function(e){function t(){var e;return Object(N.a)(this,t),(e=Object(w.a)(this,Object(S.a)(t).call(this))).handleChange=function(t){return function(a){e.setState({error:""}),e.setState(Object(b.a)({},t,a.target.value))}},e.clickSubmit=function(t){t.preventDefault(),e.setState({loading:!0});var a=e.state,n={email:a.email,password:a.password};console.log(n),f(n).then(function(t){t.error?e.setState({error:t.error,loading:!1}):g(t,function(){e.setState({redirectToReferer:!0})})})},e.signinForm=function(t,a){return r.a.createElement("form",null,r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-muted"},"Email"),r.a.createElement("input",{onChange:e.handleChange("email"),type:"email",className:"form-control",value:t})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-muted"},"Password"),r.a.createElement("input",{onChange:e.handleChange("password"),type:"password",className:"form-control",value:a})),r.a.createElement("button",{onClick:e.clickSubmit,className:"btn btn-raised btn-primary"},"Submit"))},e.state={email:"",password:"",error:"",redirectToReferer:!1,loading:!1},e}return Object(j.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){var e=this.state,t=e.email,a=e.password,n=e.error,l=e.redirectToReferer,c=e.loading;return l?r.a.createElement(C.a,{to:"/"}):r.a.createElement("div",{className:"container"},r.a.createElement("h2",{className:"mt-5 mb-5"},"SignIn"),r.a.createElement("div",{className:"alert alert-danger",style:{display:n?"":"none"}},n),c?r.a.createElement("div",{className:"jumbotron text-center"},"Loading..."):"",this.signinForm(t,a))}}]),t}(n.Component),x=function(e){function t(){var e;return Object(N.a)(this,t),(e=Object(w.a)(this,Object(S.a)(t).call(this))).state={user:"",redirectToSignin:!1},e}return Object(j.a)(t,e),Object(y.a)(t,[{key:"componentDidMount",value:function(){console.log("user id from routes params; ",this.props.match.params.userId)}},{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement("h2",{className:"mt-5 mb-5"},"Profile"),r.a.createElement("p",null,"Hello ",h().user.name),r.a.createElement("p",null,"Email: ",h().user.email))}}]),t}(n.Component),I=function(){return r.a.createElement("div",null,r.a.createElement(v,null),r.a.createElement(s.a,null,r.a.createElement(i.a,{exact:!0,path:"/",component:m}),r.a.createElement(i.a,{exact:!0,path:"/signup",component:O}),r.a.createElement(i.a,{exact:!0,path:"/signin",component:k}),r.a.createElement(i.a,{exact:!0,path:"/user/:userId",component:x})))},T=function(){return r.a.createElement(o.a,null,r.a.createElement(I,null))};c.a.render(r.a.createElement(T,null),document.getElementById("root"))}},[[19,2,1]]]);
//# sourceMappingURL=main.88d768e6.chunk.js.map